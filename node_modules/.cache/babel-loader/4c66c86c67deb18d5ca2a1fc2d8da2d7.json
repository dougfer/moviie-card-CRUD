{"ast":null,"code":"import _classCallCheck from\"/home/douglas/\\xC1rea de Trabalho/Projetos em geral/MovieCard/moviie-card-CRUD/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/douglas/\\xC1rea de Trabalho/Projetos em geral/MovieCard/moviie-card-CRUD/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/home/douglas/\\xC1rea de Trabalho/Projetos em geral/MovieCard/moviie-card-CRUD/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/home/douglas/\\xC1rea de Trabalho/Projetos em geral/MovieCard/moviie-card-CRUD/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/douglas/\\xC1rea de Trabalho/Projetos em geral/MovieCard/moviie-card-CRUD/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{Redirect}from'react-router-dom';import{MovieForm,Loading}from'../components';import*as movieAPI from'../services/movieAPI';var EditMovie=/*#__PURE__*/function(_Component){_inherits(EditMovie,_Component);var _super=_createSuper(EditMovie);function EditMovie(props){var _this;_classCallCheck(this,EditMovie);_this=_super.call(this,props);_this.state={loading:true,movie:null,shouldRedirect:false};_this.handleSubmit=_this.handleSubmit.bind(_assertThisInitialized(_this));return _this;}_createClass(EditMovie,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;var id=this.props.match.params.id;movieAPI.getMovie(id).then(function(movie){return _this2.setState({movie:movie,loading:false});});}},{key:\"handleSubmit\",value:function handleSubmit(updatedMovie){movieAPI.updateMovie(updatedMovie).then(this.setState({shouldRedirect:true}));}},{key:\"render\",value:function render(){var _this$state=this.state,loading=_this$state.loading,shouldRedirect=_this$state.shouldRedirect,movie=_this$state.movie;if(shouldRedirect){return/*#__PURE__*/React.createElement(Redirect,{to:\"/\"});}if(loading){return/*#__PURE__*/React.createElement(Loading,null);}return/*#__PURE__*/React.createElement(\"div\",{\"data-testid\":\"edit-movie\"},/*#__PURE__*/React.createElement(MovieForm,{movie:movie,onSubmit:this.handleSubmit}));}}]);return EditMovie;}(Component);export default EditMovie;","map":{"version":3,"sources":["/home/douglas/Ãrea de Trabalho/Projetos em geral/MovieCard/moviie-card-CRUD/src/pages/EditMovie.js"],"names":["React","Component","Redirect","MovieForm","Loading","movieAPI","EditMovie","props","state","loading","movie","shouldRedirect","handleSubmit","bind","id","match","params","getMovie","then","setState","updatedMovie","updateMovie"],"mappings":"y9BAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,OAASC,QAAT,KAAyB,kBAAzB,CAGA,OAASC,SAAT,CAAoBC,OAApB,KAAmC,eAAnC,CACA,MAAO,GAAKC,CAAAA,QAAZ,KAA0B,sBAA1B,C,GAEMC,CAAAA,S,sGACJ,mBAAYC,KAAZ,CAAmB,2CACjB,uBAAMA,KAAN,EACA,MAAKC,KAAL,CAAa,CACXC,OAAO,CAAE,IADE,CAEXC,KAAK,CAAE,IAFI,CAGXC,cAAc,CAAE,KAHL,CAAb,CAKA,MAAKC,YAAL,CAAoB,MAAKA,YAAL,CAAkBC,IAAlB,+BAApB,CAPiB,aAQlB,C,mFAEmB,oBACSC,CAAAA,EADT,CACoB,KAAKP,KADzB,CACVQ,KADU,CACDC,MADC,CACSF,EADT,CAElBT,QAAQ,CAACY,QAAT,CAAkBH,EAAlB,EAAsBI,IAAtB,CAA2B,SAACR,KAAD,QAAW,CAAA,MAAI,CAACS,QAAL,CAAc,CAClDT,KAAK,CAALA,KADkD,CAElDD,OAAO,CAAE,KAFyC,CAAd,CAAX,EAA3B,EAID,C,kDAEYW,Y,CAAc,CACzBf,QAAQ,CAACgB,WAAT,CAAqBD,YAArB,EAAmCF,IAAnC,CAAwC,KAAKC,QAAL,CAAc,CACpDR,cAAc,CAAE,IADoC,CAAd,CAAxC,EAGD,C,uCAEQ,iBACoC,KAAKH,KADzC,CACCC,OADD,aACCA,OADD,CACUE,cADV,aACUA,cADV,CAC0BD,KAD1B,aAC0BA,KAD1B,CAEP,GAAIC,cAAJ,CAAoB,CAClB,mBAAO,oBAAC,QAAD,EAAU,EAAE,CAAC,GAAb,EAAP,CACD,CAED,GAAIF,OAAJ,CAAa,CACX,mBAAO,oBAAC,OAAD,MAAP,CACD,CAED,mBACE,2BAAK,cAAY,YAAjB,eACE,oBAAC,SAAD,EAAW,KAAK,CAAGC,KAAnB,CAA2B,QAAQ,CAAG,KAAKE,YAA3C,EADF,CADF,CAKD,C,uBAxCqBX,S,EAmDxB,cAAeK,CAAAA,SAAf","sourcesContent":["import React, { Component } from 'react';\nimport { Redirect } from 'react-router-dom';\nimport PropTypes from 'prop-types';\n\nimport { MovieForm, Loading } from '../components';\nimport * as movieAPI from '../services/movieAPI';\n\nclass EditMovie extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      movie: null,\n      shouldRedirect: false,\n    };\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  componentDidMount() {\n    const { match: { params: { id } } } = this.props;\n    movieAPI.getMovie(id).then((movie) => this.setState({\n      movie,\n      loading: false,\n    }));\n  }\n\n  handleSubmit(updatedMovie) {\n    movieAPI.updateMovie(updatedMovie).then(this.setState({\n      shouldRedirect: true,\n    }));\n  }\n\n  render() {\n    const { loading, shouldRedirect, movie } = this.state;\n    if (shouldRedirect) {\n      return <Redirect to=\"/\" />;\n    }\n\n    if (loading) {\n      return <Loading />;\n    }\n\n    return (\n      <div data-testid=\"edit-movie\">\n        <MovieForm movie={ movie } onSubmit={ this.handleSubmit } />\n      </div>\n    );\n  }\n}\n\nEditMovie.propTypes = {\n  match: PropTypes.shape({\n    params: PropTypes.shape({\n      id: PropTypes.number,\n    }),\n  }).isRequired,\n};\n\nexport default EditMovie;\n"]},"metadata":{},"sourceType":"module"}